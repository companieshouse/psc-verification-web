{% extends "layouts/default.njk" %}

{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}

{% set title = i18n.individual_psc_list_main_title %}

{% block main_content %}
    <form action="" method="post">

        {% set isFirst, ispPageHeading = true %}
        
        {% for pscIndividual in pscIndividuals %}

            {% if isFirst %}

            {% set pageHeading %}
                {{ i18n.individual_psc_list_main_title }}
            {% endset %}
        
            {% set hintText %}
                {{ i18n.individual_psc_list_hint_1 }}
                {{companyName}}
                {{ i18n.individual_psc_list_hint_2 }}
            {% endset %}
            
            {% set isFirst = false %}
            
            {% else %}
                {% set hintText %}{% endset %}
                {% set pageHeading %}{% endset %}
                {% set isPageHeading = false %}
            
            {% endif %}
            
        {% set itemsHintText %}
            {{ i18n.individual_psc_list_born_in }}{{pscIndividual.dob}}
        {% endset %}

        {{ govukRadios({
            name: "pscIndividualList",
            fieldset: {
                legend: {
                    text: pageHeading,
                    isPageHeading: isPageHeading,
                    classes: "govuk-fieldset__legend--l"
                }
            },
            hint: {
                html: hintText
            },
            items: [
                {
                    value: pscName,
                    text: pscIndividual.name,
                    hint: {
                        text: itemsHintText
                    }
                }
            ]
            })
        }}       

        {% endfor %}

        {{ govukButton({
            attributes: {
                id: "submit", "data-event-id": "confirm-and-continue-button"
            },
            text: i18n.global_continue_button
            })
        }}
    </form>

{% endblock %}